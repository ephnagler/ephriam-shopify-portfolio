---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <div>
    <h1
      id="animated-title"
      class="mt-4 md:fixed bottom-0 right-8 opacity-0 translate-x-4 transition-all duration-1000 md:text-6xl xl:text-8xl mb-0 md:mb-8"
    >
      Shopify Expert
    </h1>
    <p
      id="animated-description"
      class="opacity-0 transition-all duration-[2000ms] ease-out md:hidden"
    >
      Leveraging a diverse background in luxury retail, web development,
      e-commerce operations, and commercial photography â€“ I connect creative
      vision to technical execution for both user and merchant experience.
      <br /><br />
      I have several works in progress including a Shopify personalization theme
      for artisans and solo-entrepenuers, a Shopify admin standard-operating-procedures
      and task manager extensions app, and a middleware unified data and operations
      app.
    </p>
  </div>

  <script>
    let hasAnimated = false;

    function animateTitle() {
      if (hasAnimated) return; // Prevent duplicate animations

      const title = document.getElementById("animated-title");
      if (title) {
        title.classList.remove("opacity-0", "translate-x-4");
        title.classList.add("opacity-100", "translate-x-0");
        hasAnimated = true;
      }
    }

    function animateDescription() {
      const description = document.getElementById("animated-description");
      if (description) {
        description.classList.add("opacity-100");
      }
    }

    // Handle Astro view transitions (client-side navigation)
    document.addEventListener("astro:page-load", () => {
      hasAnimated = false; // Reset for new page
      setTimeout(animateTitle, 500);
      setTimeout(animateDescription, 800); // Start description animation after title
    });

    // Handle initial page load
    setTimeout(animateTitle, 200);
    setTimeout(animateDescription, 500); // Start description animation after title
  </script>
</Layout>
